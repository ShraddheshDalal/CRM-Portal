<%- include('./partials/header') %>

<div class="dashboard-container">
  <div class="page-header animate-fade-in">
    <h1><i class="fas fa-tachometer-alt"></i> Dashboard</h1>
    <p>Welcome back, <%= user.name %>!</p>
  </div>
  
  <div class="stats-container">
    <div class="stat-card animate-slide-up">
      <div class="stat-icon">
        <i class="fas fa-users"></i>
      </div>
      <div class="stat-details">
        <h3>Total Customers</h3>
        <p class="stat-number" id="customerCount"><%= totalCustomers %></p>
      </div>
    </div>
    
    <div class="stat-card animate-slide-up" style="animation-delay: 0.2s;">
      <div class="stat-icon">
        <i class="fas fa-user-plus"></i>
      </div>
      <div class="stat-details">
        <h3>New This Month</h3>
        <p class="stat-number" id="newCustomers"><%= newCustomers %></p>
      </div>
    </div>
    
    <div class="stat-card animate-slide-up" style="animation-delay: 0.4s;">
      <div class="stat-icon">
        <i class="fas fa-tasks"></i>
      </div>
      <div class="stat-details">
        <h3>Active Tasks</h3>
        <p class="stat-number">0</p>
      </div>
    </div>
    
    <div class="stat-card animate-slide-up" style="animation-delay: 0.6s;">
      <div class="stat-icon">
        <i class="fas fa-chart-line"></i>
      </div>
      <div class="stat-details">
        <h3>Growth Rate</h3>
        <p class="stat-number" id="newCustomers"><%= (newCustomers/totalCustomers)*100 %>% per month</p>
      </div>
    </div>
  </div>
  
  <div class="dashboard-grid">
    <div class="dashboard-card animate-fade-in" style="animation-delay: 0.3s;">
      <div class="card-header">
        <h3>Recent Customers</h3>
        <a href="/customers" class="btn btn-sm">View All</a>
      </div>
      <div class="card-body">
        <div class="recent-customers-list" id="recentCustomers">
          <% if (recentCustomers.length > 0) { %>
            <% recentCustomers.forEach(customer => { %>
              <div class="customer-item">
                <div class="customer-info">
                  <h4><%= customer.name %></h4>
                  <p><%= customer.company %></p>
                </div>
                <span class="customer-date"><%= timeAgo(customer.created_at) %></span>
              </div>
            <% }) %>
          <% } else { %>
            <p class="empty-state">No recent customers found.</p>
          <% } %>
        </div>
      </div>
    </div>
    
    <div class="dashboard-card animate-fade-in" style="animation-delay: 0.5s;">
      <div class="card-header">
        <h3>Quick Actions</h3>
      </div>
      <div class="card-body">
        <div class="quick-actions">
          <a href="/customers/add" class="quick-action-btn animate-pulse">
            <i class="fas fa-user-plus"></i>
            <span>Add Customer</span>
          </a>
          <a href="#" class="quick-action-btn animate-pulse" style="animation-delay: 0.2s;">
            <i class="fas fa-tasks"></i>
            <span>New Task</span>
          </a>
          <a href="#" class="quick-action-btn animate-pulse" style="animation-delay: 0.4s;">
            <i class="fas fa-file-export"></i>
            <span>Export Data</span>
          </a>
          <a href="#" class="quick-action-btn animate-pulse" style="animation-delay: 0.6s;">
            <i class="fas fa-cog"></i>
            <span>Settings</span>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>









<%- include('./partials/footer') %>

